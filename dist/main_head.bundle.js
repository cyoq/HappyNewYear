!function(t){function e(e){for(var o,a,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);for(h&&h(e);p.length;)p.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],o=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=r[0]))}return t}var o={},n={0:0},i=[];function a(e){if(o[e])return o[e].exports;var r=o[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=o,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(r,o,function(e){return t[e]}.bind(null,o));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="dist/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var h=c;i.push([3,1]),r()}({3:function(t,e,r){"use strict";r.r(e);var o=r(1),n=r.n(o),i=r(0);class a{constructor(t,e,r,o){this.particleNum=t||1e4,this.maxRange=e||80,this.minRange=r||this.maxRange/2,this.textureSize=o||64,this.particles=void 0}createParticles(){const t=new THREE.Geometry;for(let e=0;e<this.particleNum;e++){const e=Math.floor(Math.random()*this.maxRange-this.minRange),r=Math.floor(Math.random()*this.maxRange-this.minRange),o=Math.floor(Math.random()*this.maxRange-this.minRange),n=new THREE.Vector3(e,r,o);t.vertices.push(n)}const e=new THREE.PointsMaterial({size:1,color:16777215,vertexColors:!1,map:this.getTexture(),transparent:!0,fog:!0,depthWrite:!1}),r=[];for(let t=0;t<this.particleNum;t++){const t=.1*Math.floor(6*Math.random()-3),e=-.05*Math.floor(10*Math.random()+3),o=.1*Math.floor(6*Math.random()-3),n=new THREE.Vector3(t,e,o);r.push(n)}this.particles=new THREE.Points(t,e),this.particles.geometry.velocities=r}getTexture(){const t=document.createElement("canvas"),e=t.getContext("2d"),r=this.textureSize;t.width=r,t.height=r;const o=r/2;this.drawRadialGradation(e,o,t.width,t.height);const n=new THREE.Texture(t);return n.type=THREE.FloatType,n.needsUpdate=!0,n}drawRadialGradation(t,e,r,o){t.save();const n=t.createRadialGradient(e,e,0,e,e,e);n.addColorStop(0,"rgba(255,255,255,1.0)"),n.addColorStop(.5,"rgba(255,255,255,0.5)"),n.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=n,t.fillRect(0,0,r,o),t.restore()}animate(t){const e=this.particles.geometry.vertices,r=this.particles.geometry.velocities;e.forEach((e,o)=>{const n=r[o],i=.1*Math.sin(.001*t*n.x),a=.1*Math.cos(.0015*t*n.z);e.x+=i,e.y+=n.y,e.z+=a,e.y<-this.minRange&&(e.y=this.minRange)}),this.particles.geometry.verticesNeedUpdate=!0}}i.registerComponent("change-garland-lights",{init:function(){this.last=0,this.icospheres=void 0,this.colors=[new THREE.Color(15147316),new THREE.Color(3094759),new THREE.Color(59148)],this.el.addEventListener("model-loaded",()=>{const t=this.el.getObject3D("mesh");this.icospheres=t.children.filter(t=>t.name.match(/Icosphere/))})},tick:function(t){if(!this.last||t-this.last>=1e3){this.last=t;for(let t of this.icospheres)t.material.color=this.colors[Math.floor(10*Math.random())%3]}}}),i.registerComponent("particles",{init:function(){const t=this.el.sceneEl.object3D;this.particles=new a,this.particles.createParticles(),t.add(this.particles.particles)},tick:function(t){this.particles.animate(t)}}),i.registerComponent("gestures",{init:function(){const t=document.querySelector("body");let e;this.el.addEventListener("model-loaded",()=>e=this.el.getObject3D("mesh")),new n.a(t).on("pan",t=>{let r=e.rotation;switch(t.direction){case 2:r.y=r.y-.05;break;case 4:r.y=r.y+.05}e.rotation.set(r.x,r.y,r.z)})}})}});